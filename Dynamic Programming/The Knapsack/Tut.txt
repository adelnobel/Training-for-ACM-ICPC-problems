This is the famous Knapsack problem
http://www.spoj.pl/problems/KNAPSACK/